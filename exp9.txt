#include <reg51.h>
#define LCD P2         
sbit RS = P3^0;        
sbit RW = P3^1;        
sbit EN = P3^2;       
void delay(unsigned int);
void lcd_cmd(unsigned char);
void lcd_data(unsigned char);
void lcd_init(void);
void lcd_string(char *str);
void main(void){
lcd_init();                     
lcd_cmd(0x80);                   
lcd_string("Welcome");           
lcd_cmd(0xC0);                   
lcd_string("NBNSTIC, Pune");     
while(1);                       
}
void lcd_init(void){
lcd_cmd(0x38);    
lcd_cmd(0x0C);    
lcd_cmd(0x06);    
lcd_cmd(0x01);    
delay(5);
}
void lcd_cmd(unsigned char cmd){
LCD = cmd;
RS = 0;           
RW = 0;           
EN = 1;
delay(1);
EN = 0;
}
void lcd_data(unsigned char dat){
LCD = dat;
RS = 1;           
RW = 0;           
EN = 1;
delay(1);
EN = 0;
}
void lcd_string(char *str){
while(*str){
lcd_data(*str++);
}
}
void delay(unsigned int time){
unsigned int i, j;
for(i = 0; i < time; i++)
for(j = 0; j < 1275; j++);
}
